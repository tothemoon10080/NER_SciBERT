Sensor-based ore sorting is a technology used to classify high-grade mineralized rocks from low-grade waste rocks to reduce operation costs. Many ore-sorting algorithms using color images have been proposed in the past, but only some validate their results using mineral grades or optimize the algorithms to classify rocks in real-time. This paper presents an ore-sorting algorithm based on image processing and machine learning that is able to classify rocks from a gold and silver mine based on their grade. The algorithm is composed of four main stages: (1) image segmentation and partition, (2) color and texture feature extraction, (3) sub-image classification using neural networks, and (4) a voting system to determine the overall class of the rock. The algorithm was trained using images of rocks that a geologist manually classified according to their mineral content and then was validated using a different set of rocks analyzed in a laboratory to determine their gold and silver grades. The proposed method achieved a Matthews correlation coefficient of 0.961 points, higher than other classification algorithms based on support vector machines and convolutional neural networks, and a processing time under 44Â ms, promising for real-time ore sorting applications.