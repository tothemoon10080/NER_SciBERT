Rail wagon planning is an important type of planning in the rail transport network since its costs are high. Therefore, enhancing the accuracy of fleet planning could result in cost efficiency. In this research, we aim to model and optimize the fleet size and allocation problem in a rail transportation network. We proposed a novel two-step algorithm composed of two meta-heuristic steps to optimize the allocation of the fleet between origins and destinations and to determine the optimal number of wagons. Besides, we provided a case study of Iranâ€™s minerals rail transport network. The results demonstrate that 4925 wagons are required to transport approximately 17.7 million tons of minerals per year, roughly 10% less than the current proportion. The validity of the results was also analyzed by using a comparison between our algorithm and CEPLEX for a test dataset. It is shown that our approach outperforms CEPLEX in terms of speed while retaining the same performance.