Major Sn deposits are commonly linked to crust-derived and highly evolved granites, with magma generation aided by mantle heating. However, whether and how the mantle components contribute to Sn polymetallic mineralization remains unclear. In this study, in combination with a compilation of equivalent data in the region, we provide new constraints on this issue based on detailed investigations on the petrogenesis and metallogenic significance of granitoids including the causative batholith and later granodiorite porphyry dike in the giant Dachang Sn deposit from South China. The former has zircon U-Pb ages of 93–91 Ma and belongs to highly evolved S-type biotite granite, which experienced fractionation of massive feldspar. The latter shows zircon U-Pb ages of 90 Ma and displays I-type granite features. The batholith was mainly derived from the dehydration melting of biotite in the metasedimentary sources, as revealed by the relatively low whole-rock Pb contents (<30 ppm) and high Ba/Pb ratios (2.71–17.1) and initial T(ti-zr) of 790 ℃. Compared with the adjacent crust-derived S-type granites (−24.8 – −5.1) and I-type granites (−11.0 to −5.2), the Dachang S-type biotite granites present higher zircon εHf(t) values (−9.1 to −2.1). Furthermore, the low magmatic zircon δ18O values (6.2 ‰) and higher apatite LREE (3277–4114 ppm) and Sr (1137–1357 ppm) contents than of arc-type basic rocks were discerned. These characteristics jointly hint the contributions of mantle components. The higher initial T(ti-zr) (>850 °C), whole-rock Mg# (52 to 58), apatite εNd(t) (−9.2 to −6.5) and zircon εHf(t) (−7.6 to 2.5) values but lower zircon δ18O values (6.33 to 8.30 ‰) of the later granodiorite porphyry dike than those of the batholith also suggest that mantle material was involved in the generation of the dikes, which is evident by the variational features of zircon and apatite trace elements. In addition, at the zircon Hf <12000 ppm and Eu/Eu* > 0.05, the higher zircon ΔFMQ values (mostly from −1.8 to 2.0) and H2O contents (100–1100 ppm) of the Dachang granitoids than the pure crust-derived S-type granites (ΔFMQ = mostly from −3.7 to −1.5; H2O < 100 ppm) imply that mantle materials involved are relatively rich in water and oxidized. These suggest that the addition of mantle components is conducive to the extraction of Sn from metasedimentary sources, and moderately facilitates the increase of oxygen fugacity which still maintains the incompatibility of Sn in magmas with ΔFMQ < 2. Also, the involvement of mantle components upgrades the H2O contents in S-type magmas, favoring the migration of ore-forming elements from magmas to hydrothermal fluids. The sediment-derived causative granites displayed higher εHf(t) and ε
                     Nd(t) values with greater Sn tonnages of their associated world-class Sn polymetallic deposits, supporting the opinion that the contributions of mantle components play an important role in the generation of giant Sn deposits.