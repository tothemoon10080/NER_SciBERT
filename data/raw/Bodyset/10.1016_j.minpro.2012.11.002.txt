This paper presents a methodology to analyze and/or design processes in which several stages are required to achieve the separation objectives and in which it is not possible to accurately define the operating conditions. This methodology is explained and applied to mineral flotation circuits but can be adapted and/or extended to other processes. The methodology considers the construction of a superstructure that includes alternatives to be analyzed, the representation of variables by distribution functions, a Monte Carlo simulation, the incorporation of indicators and a multi-objective analysis. From the obtained results, we conclude that the proposed methodology is a useful tool for analyzing and designing separation processes that include several stages, especially when there is uncertainty about the operating conditions of each stage.It is widely accepted that processes require improvements from multiple perspectives to remain competitive. New regulations and demands for more efficient processes that make better use of resources such as water and energy and reduce environmental impacts add to the need to remain economically competitive. We must also mention the growing complexity of available resources, which can exhibit decrease of grades, contain impurities or need to be extracted from poly-metallic ore deposits. For these reasons, it is not unusual to find new studies and technologies focusing on improving a particular process. This need for improvement requires efforts at all levels, from molecular studies to the company level. This work presents a methodology to analyze and/or design processes in which several stages are required to achieve the separation objectives and in which it is not possible to accurately define the operating conditions. This methodology is explained and applied to mineral flotation circuits but can be adapted and/or extended to other types of processes. Mineral extraction processes typically include concentration and purification of beneficiation species from gangues. To achieve this objective, it is common to use several stages with different arrangements or structures, which are called circuits. In flotation processes, cells and/or columns are used to obtain the concentrate, and the structures involved include the rougher, scavenger, cleaner and recleaner stages, amongst other operations. It is difficult to define the adequate recovery of different beneficiation species in each of these stages because they depend on several operating variables, on the set up of the flotation circuit and on external variables (such as the price and characteristics of the metal). Simulation and optimization are limited tools, as they depend on models whose capacities for extrapolation and interpolation are limited because these models are empirical and depend on parameters defined from limited experimental results. Additionally, there are uncertainties that complicate analysis of these variables. For instance, the heterogeneous nature of minerals produces a variation in composition, ( Operation and design of mineral extraction processes are related to the need to fulfill a series of objectives or goals, which can be operational, economical-financial or sustainability related. For example, operational goals can include efficiency, processing capacity, product quality and stability. Economic-financial goals include operational cost and the profitability of the company. Finally, from the sustainability point of view, we have environmental concerns (water, air, soil) and social aspects (safety and protection of workers and the community). For the above-mentioned reasons, a methodology for analysis and design must include the following: Representation of the recovery of each stage according to distribution functions instead of defining a specific value or model for each stage. This approach allows the methodology to focus on, first, knowing the effects of recovery and, later, making efforts to obtain the desired recovery value. Analysis of the effects of uncertainties in the individual recoveries of each stage on the general process. In this manner, certain aspects of the system can be determined, such as the stage that is most affected by uncertainty in recoveries or which circuits are less sensitive to uncertainties. Incorporation of other uncertainties such as grades, mineral characteristics and/or metal prices. A comprehensive analysis of the circuit, including technical, economic and environmental variables, allowing several factors to be analyzed at once and enabling the designer or analyst to define priorities. Indicators that represent the different types of objectives (economic, technical and sustainability) and allow the simultaneous evaluation of variables. Additionally, the methodology must allow the following: Comparisons to be made between different circuit options and adaptability to different simulation tools Improvements to the existing circuits by improving the operational conditions, changing the structure or including new units. There are few studies in the literature that consider all the aforesaid aspects in mineral processing. However, there are several investigations that consider uncertainty and/or multiple objectives in other areas. It is important to mention that methodologies that include multiple objectives have been developed in the mineral processing field. Monte Carlo simulations have been applied to mineral processes for the analysis of material balance ( There are several available works in process design, and this subject is not analyzed in this paper. To review the state of the art in fraction crystallization design, see The structure of the remainder this paper is as follows: The proposed methodology proceeds as follows. 1) Use a superstructure to represent the set of circuit alternatives to be studied. This superstructure is built from the separation stages considered and all possible connections (or desired ones). 2) Define the input variables to be studied, representing them with distribution functions. These variables correspond to the design variables and specifications that exhibit uncertainty. The distribution function to be considered depends on the nature of the variable and the available information. 3) Define the objectives to be analyzed, refining variables and indicators that represent these objectives. 4) Apply the Monte Carlo simulation to each of the alternatives included in the superstructure. 5) Represent the simulations results as histograms and descriptive statistics, and summarize the indicators that are defined in Step 3. 6) Once the previous points have been obtained, perform different post-simulation activities, such as sensitivity analysis, graphic representation for decision-making and development of result forecast models. To illustrate this methodology, it is applied to the analysis of flotation circuits. The first step is to define the alternatives to be analyzed and represent them with a superstructure, which is constructed by defining the separation stages and allowing all possible interconnections among them. For example, Several studies have considered several process alternatives in their analysis and design (e.g., The input variables correspond to design variables or external specifications to the process and are represented by distribution functions. In this study, we considered the recoveries from the flotation stages as the design variables to be studied and the feed grade as an external specification. The studies to be conducted correspond to individual effects and/or sets of variables. In our case, we consider both situations as follows: a) the recovery of the rougher stage exhibits uncertainty, and the other input variables do not exhibit uncertainty; b) the recovery of the cleaner stage exhibits uncertainty, and the other input variables do not exhibit uncertainty; c) the recovery in the scavenger stage exhibits uncertainty, and other input variables do not exhibit uncertainty, d) the recovery in the recleaner stage exhibits uncertainty, and other input variables do not exhibit uncertainty; e) the recoveries of all stages exhibit uncertainty, and the feed grade does not exhibit uncertainty; and f) the feed grade exhibits uncertainty, and the recoveries of all stages do not exhibit uncertainty. The uncertainties of the selected variables are defined through distribution functions. For each variable, we considered normal distributions represented by a mean value with several values for the standard deviation. For the recoveries, we considered standard deviations of 1, 3, 5 and 7, while for the feed grade, we considered the values 0.1%, 0.3%, 0.5% and 0.7 %. Eighty-eight cases were studied, and each is represented by a string as indicated in In this stage, we define the objectives, variables and indicators that allow us to evaluate the different alternatives. These objectives can include economic, technical and sustainability aspects and any other pertinent indicators. In this work, we will consider variables that encompass capacity, efficiency and stability. Specifically, we considered the following variables: global recovery of copper, copper grade in concentrate, global separation factor and beneficiation rate. We also use their corresponding statistical indicators such as the mean, standard deviation, kurtosis, skewness, and Anderson-Darling (AD) test of each of the efficiency and capacity variables. These variables are defined as follows: This indicator is defined as the mass of species Where This indicator is defined as the mass of the useful species in the concentrate normalized to the total mass of the concentrate This indicator is defined as the mass of mineral feed necessary to produce a ton of the useful species This variable corresponds to the relationship between the grade of the useful species in the concentrate and the grade of the useful species in the feed Where Statistical indicators corresponding to the mean, standard deviation, skewness indicator, and kurtosis of the previous indicators are determined from moments. The first standard moment is the mean ( We therefore have the following indicators: Where The usual processes for statistical assessment of a data set must include test(s) of normality ( To evaluate and compare the alternatives, it could be useful to normalize the indicators so that their values are between 0 and 1. There are several alternatives for normalization, and we use the following equations: For the indicators for the mean, global recovery, beneficiation ratio, and concentrate grade, we use Eq. We randomly generate N discrete values representing a normal distribution with the mean value and standard deviation of a selected variable. In this case, we used two thousand random numbers (N The results obtained from the simulations for different cases are tabulated and graphed, and we analyze the shapes of the obtained distribution functions. Based on these results, all indicators defined in Stage 3 are determined. Once the indicators and results are obtained, different post-simulation activities can be performed, for example, sensitivity analysis, graphical representation for decision-making and development of forecast models. More information about these results is given in the next section. With the twelve circuits represented in We will begin the evaluation with the global recovery, which is an efficiency indicator. The results obtained in the simulations of the different flotation circuits provided values for the mean global recovery in the range of 67.375% to 92.260%. The circuits are ordered from the most to the least efficient as follows: RC, RR, RCC, RRC, RCR, RRR, SC, SR, SCC, SCR, SRC and SRR. The circuits with the highest values of global recovery (RC, RR, RCC, RRC, RCR, RRR) have in common that the tailings of the cleaner stage are sent to the rougher stage. In the RC circuit, the scavenger concentrate is sent to the cleaner stage, while in the RR circuit, it is sent to the rougher stage. The circuits with the lowest global recovery values (SC, SR, SCC, SCR, SRC, SRR) have in common that the tailings of the cleaner stage are sent to the scavenger stage. In each group, the circuits with low efficiency include the recleaner stage, regardless of whether their tailings are sent to the rougher, scavenger or cleaner stage. As expected, the global recovery depends on the structure and the recovery values of each stage. A second important indicator is the concentrate grade, which is a quality indicator. The mean values of the concentrate grade are in the range of 16% to 33.7%. Circuits SRC and SRR have the highest values of the concentrate grade, and these circuits have in common that they send the tailings of the cleaner stage to the scavenger stage and the concentrate of the scavenger stage to the rougher. The circuits that have a recleaner stage show higher concentrate grades. Of the circuits without a recleaner stage, the ones with higher concentrate grades correspond to circuits SR, RR, SC and RC. The circuits with the highest grades (SRC, SRR) are also the ones with the lowest global recovery values. Similar to the case of the global recovery, the concentrate grade depends on the type of circuit and the individual recoveries at each stage. These results are not surprising, but confirm the credibility of the simulations. The separation factor, which is a capacity indicator, took values from 26 to 80, with 26 being the most favorable condition. Circuits without a recleaner stage are the most favorable. In a comparison among the circuits without a recleaner, we observe that circuits RC and RR have in common that they send the tailings from the cleaner stage to the rougher stage and that circuits SC and SR have in common that they send the tailings from the cleaner stage to the scavenger stage. The beneficiation ratio, which is a quality indicator, took values between 28 and 56, with 56 being the most favorable condition. In contrast to the separation factor, circuits with the recleaner stage are the most favorable. Circuits SRC and SRR, with the highest beneficiation ratios, have in common that they send the tailings from the cleaner stage to the scavenger and the concentrate from the scavenger stage to the rougher. Circuits RRC, RRR, SCC, SCR, RCC and RCR have similar beneficiation ratios. The analysis of the standard deviation indicators and other descriptors such as kurtosis associated with each of the previous indicators will be performed partially in this section and partially in the following sections. This section presents the standard deviation results in a standardized manner.  The same behavior can be determined by analyzing the different cases for the concentrate grade, global separation factor and beneficiation ratio as in Skewness and kurtosis indicators give us information on the shape of the indicators in the presence of uncertainties. The values of kurtosis range from − The concentration grades of circuits with the recleaner stage exhibit positive kurtosis values with values generally less than 0.5, indicating that they are normally distributed about their average, but slightly loaded right. Moreover, the circuits with recleaner stages exhibit negative skewness indicators, indicating that the concentrate grades can present much higher values than the average value. Circuits that do not have the recleaner stage also have positive values of kurtosis, but these values are larger than those of circuits with the recleaner stage, indicating that the concentrate grade will be more tightly distributed around the mean. One of the critical circuits is the SC, which delivers high kurtosis values, indicating that the concentrate grade is distributed within a very narrow range around the mean value. On the other hand, low values in the concentrate grade, which would affect the quality of the concentrate, can be expected because of high positive values of the skewness indicator. The AD test on the concentrate grade distribution indicates that it is consistent with the normal distribution. If we prepare a graph of the standard deviation of an indicator against the standard deviations of an input variable and we obtain a nearly linear relationship, the slope of the line will be called the change ratio for that indicator. For example, for the global recovery, the correlation coefficients of these straight lines are usually greater than 0.99. Only a few cases present correlation coefficients in the range 0.99 to 0.96. The circuits SRR, RCC and RC exhibit change ratios in this range for the cleaner stage, and circuit SCC exhibits a change ratio in this range for the scavenger stage.  In The sensitivity of the global recovery of flotation circuits depends on the structure of the specific circuit and where the change of uncertainty occurs. For example, when the tailings of the cleaner stage are recirculated to the rougher, the circuit is more sensitive to the changes in uncertainty at the rougher stage and less sensitive to changes in uncertainty at the cleaner and recleaner stages because all recirculations are sent directly to the rougher stage. The uncertainty of the concentrate grade is very sensitive to changes in uncertainty in the feed grade and less sensitive to uncertainties in the recovery stages. The circuits that present the highest change ratios do not include the recleaner stage, such as circuits RR, RC, SR and SC. These circuits also present the lowest values of the concentrate grade. The change ratio of the uncertainty in the concentrate grade with respect to the uncertainty in the stage recoveries also generally takes higher values in circuits without a recleaner stage, except circuit RRR. The relationship between the uncertainty of the concentrate grade and the uncertainties in the feed grade and recovery stages are generally nonlinear and depend on the local value of the uncertainty. The change ratios of the separation factor and beneficiation ratio are sensitive to variations in the uncertainty of the feed grade for all circuits and are much greater than the change ratios with respect to uncertainties in the recovery stages. The results obtained from simulations can be represented by histograms to illustrate the distribution functions of the indicators. However, there are 912 distribution functions for each indicator, for a total of 3,648 histograms. Thus, a different strategy is required to analyze the data.   The beneficiation rate follows a normal distribution for all the cases and circuits. Conversely, the separation factor follows a normal distribution only for cases with low standard deviations (for example cases 01000 and 03000). The purpose of the multiple objective analysis is to provide information about the effect of the rougher, scavenger, cleaner and recleaner recoveries and the feed grade on all indicators: efficiency, capacity, quality and stability.  In  By examining Circuit RCC also has the best behavior when the standard deviation of the global recovery is analyzed. Only the uncertainty in the rougher stage significantly affects the global recovery for this circuit (  The use of radial graphs allows a global analysis of all indicators in the same graph and allows the individual analysis of each indicator. Similarly, it allows the evaluator to establish different objective functions for decision-making. For example, the recovery may have different weighting than the concentrate grade, beneficiation ratio and separation factor. By generating footprints families based on weighted sums of indicators, the footprint areas may determine which circuit best meets the objectives. Because there is not one unique circuit among those examined that is best for all indicators, it is necessary to have a procedure that allows for decision-making based on the evaluation of multiple goals. A simple method to evaluate the all indicators is called SumBranches. This method transforms the transcribed areas into a single point with the weighted sum of the indicators, enabling simple decision-making based on the circuit that has the highest score. Different weights can be used for each indicator. A second alternative for evaluation is to group indicators to assess different types of indicators. For example, A methodology for analyzing options for flotation circuits using a superstructure that includes alternatives to be analyzed, representation of variables by distribution functions, Monte Carlo simulation, the incorporation of indicators and multi-objective analysis has been presented. The methodology has been shown to be useful in circuit analysis and specifically allows the following: a) alternative options to be represented through superstructures, therefore ensuring that several alternatives are considered in design, retrofit or analysis of the processes, b) the variables that exhibit uncertainty to be considered before experimentally tuning the best values, thereby allowing the global effects of uncertainties on the circuit to be studied, c) the effects of uncertainty on several objectives or goals to be analyzed at the same time, and d) indicators to be used to represent the different objectives. From applying this methodology to flotation circuits, the following conclusions were obtained on mean values: a) the circuits with the highest values of global recovery send the tailings of the cleaner stage to the rougher stage; b) the circuits with the lowest values of global recovery send the tailings of the cleaner stage to the scavenger stage; c) the circuits with low efficiency include the recleaner stage, regardless of whether their tailings are sent to the rougher, scavenger or cleaner stage; d) the circuits with the highest concentrate grade send the tailings of the cleaner stage to the scavenger stage and the concentrate of the scavenger stage to the rougher; e) the circuits that have the recleaner stage exhibit higher values of the concentrate grade; f) the circuits with the best concentrate grades are also the ones with the lowest global recoveries; g) the global recovery, the concentrate grade, and all other indicators depend on the type of circuit and the individual recoveries at each stage. From applying this methodology to flotation circuits, the following conclusions were obtained on stability: a) there is no clear trend indicating greater global recovery stability of one circuit; b) uncertainty in global recovery is more sensitive to changes in the uncertainty of the rougher stage than to changes in other stages; c) uncertainty in the concentrate grade is more sensitive to changes in the feed grade; d) given the uncertainty in the feed grade, the global recovery distribution functions of all circuits are not normally distributed; e) given the uncertainty in the stage recoveries, the global recovery distribution functions follow a normal distribution function in most cases. Also, the following conclusions were obtained on multiple objectives: a) there is no single circuit better than all others in all indicators, but a circuit may be selected by the area of its footprint; and b) the analysis of multiple objectives through the use of sumbranches allows for a global analysis of all indicators. In our case, circuits RRR, RRC, RCC and RCR present the higher scores, both technical indicators and uncertainty indicators. The methods to address process design can be classified into three categories: the methods that employ heuristics or are knowledge based; the methods that employ mathematical or optimization techniques; and, the hybrid methods combining different approaches into one method. The method proposed in this paper can be classified as a hybrid method. The methods that employ heuristics or are knowledge based rely on a set of rules based on a combination of experience, insights and available knowledge. These rules are often simple but may be contradictory (for example for multi-objective problems). The methods that employ mathematical or optimization techniques are based on mathematical programming techniques using optimization to determine the best process flowsheet. These methods usually involve an important preliminary step, which is to setup a mathematical superstructure that represents all possible alternatives. Therefore, identification of the optimal process flowsheet depends very much on the definition of the mathematical superstructure. These methods require efficient numerical solvers and a good knowledge of the mathematical programming techniques. Also uncertainties are difficult to analyze because stochastic programming is complex and time consuming, and in some cases it is not possible to solve a particular problem. Hybrid methods combine different approaches into one. These methods combine the physical insights of the knowledge based methods with mathematical techniques to formulate and solve a collection of mathematical problems within an identified narrow search space. These keep the simple structure of knowledge-based approaches but replace the fixed rules with guidelines based on physical insights generated through analysis of the behavior of the components. The physical insights help to reduce the search space and to decompose the problem into a collection of well defined inter-related sub-problems. Then, the method proposed in this manuscript presents the following advantages: 1) the method combines several tools for process analysis and design, but keeping a simple procedure to generate alternatives, assess these alternatives, and select the most promising for further study; 2) the method uses a superstructure to generate alternatives allowing to identify all feasible alternatives; 3) recovery of each stage are represented by distribution functions and Monte Carlo simulation is used to evaluate each alternative. This allows not only to identify the values of the variables of interest, but also the effect of uncertainty on each alternative and identify the stable circuits; 4) Indicators are used to quantify each objective, values are normalized and represented in radial graphs. This allows easy visual evaluation of alternatives; and 5) SumBranches is utilized to evaluate all indicators. The sumbrunches transforms all the indicators into a single point with the weighted sum of the indicators, enabling simple decision-making based on the circuit that has the highest score. Different weights can be used for each indicator or/and the indicators can be grouped to consider different design criteria. Future work under development includes studying the effects of different distribution functions of input variables on the distribution functions of the output variables, applying the analysis methodology to circuits that produce multiple products, developing indicators to evaluate other objectives, developing indicator forecast models, and applying the methodology to retrofitting processes. The authors wish to thank