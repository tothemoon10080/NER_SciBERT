Mineral separation by froth flotation is carried out industrially by large and complex circuit arrangements, the layouts of which are based on flotation kinetics, modelling and experience. Flotation cell performance, in terms of concentrate grade and mineral recovery, can be predicted using kinetic models to describe particle recovery in the pulp phase and physics-based models to describe the behaviour in the froth phase. Linking several cells using this modelling approach allows the performance of flotation circuits to be determined, and, together with a suitable optimisation algorithm, for the optimal layout of the circuit to be established. This paper combines the powerful genetic algorithm optimisation methodology with pulp and froth modelling in each flotation cell to determine the optimal layout for flotation circuits comprising up to eight cells.
                  Results showed that for three cells, the optimal circuit, that is, the circuit which resulted in the most profitable combination of grade and recovery, was for the cells to be arranged in series. For circuits of four to eight cells, however, the addition of a cleaner cell was shown to yield a higher revenue.Froth flotation is a physicochemical separation of valuable minerals from gangue (waste material) which makes use of their different surface properties. The process is performed in an aerated tank (a flotation cell), where finely ground ore particles are mixed with water and reagents to render the valuable mineral hydrophobic. When air is bubbled into the tank, hydrophobic minerals attach to the air bubbles and form a froth, which overflows the top of the cell and is collected as the mineral-rich concentrate, while the remaining pulp is removed as tailings. Complete separation of valuable minerals from gangue is not achievable in a single cell due to the physical nature of the separation, therefore cells are connected in series to form linked banks of cells (a flotation circuit) to improve the overall performance. A typical industrial froth flotation circuit employs between twenty and more than one hundred individual cells ( There are currently two major approaches to flotation circuit design and optimisation, both of which are based on well-established models to predict flotation performance ( The first approach describes the flotation kinetics in terms of a first-order rate process ( The second approach ( Obtaining a robust flotation model is the first step towards finding the optimal circuit design. While the first order rate constant approach is widely considered to be appropriate for modelling the pulp phase ( This paper introduces a simulator based on these models, in parallel with inter-cell mass balances, to simulate flotation circuit performance. This allows the effects of design and operating variables on the optimal circuit layout and on the performance of that circuit to be investigated. A optimum search method is required to explore all the possible circuit configurations in order to find the layout that yields the “best” performance in some criteria, e.g. the highest concentrate grade and recovery. Flotation circuit optimisation has been studied using various approaches with the majority adopting conventional optimisation methods (  Enumerative search evaluates every possible location in the search space (possible circuit configurations) and is therefore inefficient ( Random search algorithms evaluate the performance of a circuit at a random location in the search space, and the result is retained until it is succeeded by a better circuit at another random location. The method was chosen by By using superstructures to represent possible arrangements of a flotation circuit, it is possible to formulate the optimisation problem in a mathematical programming manner, which can be solved using linear programming (LP), mixed integer non-linear programming (MINLP) and mixed integer linear programming (MILP). However, detailed flotation models such as inclusion of froth-phase modelling are difficult to be incorporated into the programming problem.  The use of a financial objective function by In recent years, a new global optimisation technique, genetic algorithm (GA), has been developed ( Applications of GAs to flotation optimisation were initially proposed by This paper adopts a robust GA and integrates it with both pulp-phase and froth-phase models to describe the steady-state flotation system. This algorithm and modelling system are used to generate the optimal flotation circuit design for a specified feed. In froth flotation, particles can be recovered to the concentrate attached to bubbles (valuable particles) or unattached in the channels between the bubbles (valuable and gangue). Unattached particles can be those entrained into the froth from the pulp (valuable and gangue), or those which detached from bubbles during coalescence and bursting (valuable). The flotation simulator described in this section takes into account these different routes to recovery, classifying particles that are attached at the pulp–froth interface and subsequently recovered to the concentrate (either attached or detached) as being recovered by true flotation, and those that are non-selectively recovered as entrained. These are combined with a pulp-phase flotation rate model and mass balances to simulate the performance of each cell, and of the circuit. The mass balance for a single cell matches the sum of the mass flowrate (product of the volumetric flowrate Valuable material in the concentrate can be recovered by both true flotation and entrainment. The true flotation term is governed by the apparent flotation rate, which is described in terms of specific rate constant The entrained recovery is proportional to water recovered in the concentrate Combining the two routes of material recovery to the concentrate, the mass balance Eq. Rearranging Eq. The true flotation recovery accounts for the material entering the froth attached to bubbles, that is recovered either attached or unattached. Froth recovery is defined as the fraction of particles that are recovered in this way, and it is determined using Eqs. Here For air recoveries lower than 50%, the froth recovery is highly dependent on air recovery. In this study, Here The volumetric fraction of solids, and the viscosity of the slurry, in both the froth and the concentrate are assumed to be the same as Entrainment is the process by which unattached particles enter the froth at the pulp–froth interface in the channels between the bubbles (Plateau borders) and are recovered to the concentrate. It has been found that the entrained material recovery is proportional to the water recovered to the concentrate ( The water recovery depends on the liquid behaviour in Plateau borders and is governed by gravity, viscous drag and capillary suction in the froth ( The constant To quantify the entrained material using the water recovery, the entrainment factor is introduced to incorporate the effects of liquid motion, particle settling and particle dispersion ( In order to simulate the flotation process in a cell and determine its concentrate and tailings flowrate and composition, the models described previously are combined and solved for a given feed. An iterative approach is taken to solving the equations, and this is shown schematically in The properties of the feed are given (flowrate, density, grade and particle size), and an initial value for the volumetric solids fraction of the concentrate is taken as an input. The density of the solids in the concentrate is assumed to be the same as that for the feed. This allows the density and viscosity of the concentrate to be evaluated using Eqs. After the first cell in a flotation circuit is modelled using the method above, the resulting concentrate and tailings are either new feeds to downstream or a part of the circuit output. The iterative flotation modelling is repeated for the remaining cells in the circuit, and by summing the total concentrate and tailings of the circuit output, the overall grade and recovery are determined. The improvement of this modelling approach is the inclusion of the detailed froth models. This improvement allow the effects of design and operating variables such as cell dimensions and air inlet to be taken in to account in the flotation performance, which in turn produces accurate and realistic results. However, in contrast to the first order rate modelling approach, this iterative modelling requires relatively intensive computation. The more cells are in a circuit, the longer it takes to model. In addition, the detailed froth models require more inputs such as bubble sizes and froth height, which can be difficult to measure or estimate. A typical froth flotation circuit consists of four to eight flotation banks, with five to twenty cells within each bank ( Every cell outputs two product streams; concentrate and tailings. In a flotation system consisting of Most of the possible designs are suboptimal or invalid as a result of technical faults or illogical configuration (e.g. recycling the tailings of the scavenger to the cleaner). Consequently, adopting an optimisation method is critical to first screen out the flawed designs, and to generate the optimum design which satisfies both technical and economic constrains. In order for the genetic algorithm methodology to be applied to flotation circuits, cell linkages (i.e. the destination of output streams) must be coded as a finite-length string. A population of strings representing flotation circuit layouts are first generated (parent population); for each of these a single fitness value of performance is determined (based on efficiency or profit, for example). Daughter strings of the same population size are randomly selected from the original strings. It is a fitness proportionate selection (roulette wheel selection), as the greater the fitness of the original string, the more likely it is to be selected as a daughter. This means that the best strings are expected to be selected more than once in the process. To encourage the survival of the circuit layouts which yield better performance, the current best string (highest fitness) is always included as a daughter. After obtaining the daughter population, every two strings are mated, so that the genetic information between two randomly chosen string positions is swapped. This process is termed ‘Crossover’; hence the daughter strings now contain features from both of their parents. For every parameter, there is a slight possibility that it undergoes mutation. The value of the mutating bit is randomly reassigned during this process. Although this minor alteration may seem insignificant, the operation is an efficient means of preventing unification of the whole population and avoiding being trapped at only local optima. The fitness value is re-evaluated for every daughter string to enable the selection process to take place again. One selection-crossover-evaluation cycle is referred to as one generation, and the cycle is repeated until a designated number of generations are reached or the fitness satisfies minimum criteria (e.g. minimum concentrate grade) ( A flotation circuit configuration is coded in a systematic way to represent the linkages of every cell. Instead of a binary form, a decimal digit string is used to symbolise the connections between cells for a straightforward and concise representation. Cells in an As seen from When implementing a GA, various algorithm settings, such as population size, GA cycle length, crossover rate and mutation possibility must be decided. The reliability of the result is heavily dependent on the values set for these parameters, which are interrelated. Although the parameter settings are specific to the optimisation problem being considered, many researchers use those settings that have been successful in previous studies ( In the algorithm used in this paper, the crossover rate was set to 1. Post-crossover circuits were checked against the validation criteria. The crossover was reversed if the process had been attempted five times and the circuits remained flawed. This uncrossovered portion of the population decreased the apparent crossover rate to approximately 0.7. Having a crossover rate lower than 1 helps preventing a premature convergence of the result due to allele loss, which in turn is caused by discarding high performance circuits faster than crossover can produce improvements. The mutation rate is used to prevent unification of the population at local optima and maintain genetic diversity. In the later GA cycles, however, it is desirable for convergence to arise as the optimal solution can be delayed or partially prevented if a large number of mutations occur. According to previous works (  Although these parameters were proven reliable and efficient in these studies, the complexity of the optimisation problem differs from one problem to the next. Therefore a range of population size and GA cycle length were tested. The random circuit generated in the parent population at the beginning of the GA and the daughter circuits evolved after crossover and mutation are validated against several criteria. This is done to eliminate the designs with technical faults or unreasoned linkages, so that a design is only valid if there are no cell self-recycles; at least one feed to every cell; at least one concentrate and one tailings stream from the cells that exit the circuit as products; the concentrate and tailings streams from the first cell, to which the circuit feed is introduced, do not both exit the circuit as products; the concentrate and tailings from a single cell do not flow to the same destination; The above criteria do not guarantee a valid circuit and thus the final check is to see if the iteratively solved mass balance converges, which it must for a valid circuit. After every valid circuit design is simulated, a finance-based fitness function is used to evaluate the circuit performance by providing a single quantitative value, therefore enabling the comparison of different circuit configurations. The fitness function and revenue calculation used in this study are given in Eqs. The circuit revenues are calculated using the financial function (a net smelter return formula) suggested by The circuit with the highest fitness value among the randomly generated strings is recorded as the current optimal circuit design, and it is overwritten by new optimal circuit designs as the GA cycle progresses. At the end of the cycle, the circuit yielding the highest fitness function will be, therefore, the optimal circuit for a given set of conditions. The improvement of the average fitness of the population through GA cycles follows a logarithmic shape, the tail of which levels off at the fitness value of the optimal circuit. Due to the probabilistic nature of GA, the final result may be suboptimal if the population size or the evolution cycles used are insufficient. It is therefore necessary to investigate the reliability of the final result, and to determine the optimal settings of the GA parameters. There is a finite number of ways of arranging the flotation cells in a circuit. For flotation circuits with a relatively small number of cells (i.e. fewer than 7 cells), every possible circuit configuration can be tested in order to determine the optimal circuit design. This brute-force enumerative method (BF) enables the optimal circuit generated by the GA to be validated. It was found that the circuit with the highest fitness value (the optimal circuit with best performance) generated by the GA was the same as that found using the BF technique. However, in a 6-cell circuit layout optimisation, the GA was able to find the optimum within only 1% of the computational time required by the BF method. Both population size (number of circuits in each cycle) and number of cycles (selection, crossover, mutation and evaluation) can be varied in the GA, with higher numbers of both indicating higher confidence in finding the global optimum whilst increasing computational time. A trade-off, therefore, is required to consider the requirements of both the flotation simulator and the GA. A 6-cell circuit was optimised using five different GA cycle sizes and six population sizes. The reproducibility of the GA program was tested for 30 cases. For each case the test was repeated 25 times. The percentage of the results which matched the optimum found by BF is shown in It was found that the maximum number of attempts must be at least 0.1% of the total number of possible configurations (coverage of 0.1%) to obtain a reproducible optimal design (reproducibility To determine the impact of the number of cells on circuit layout and flotation performance, data from a copper concentrator was used to test the combined flotation simulator-GA methodology, details of which are given in Additionally, the following assumptions were made: the mineral was perfectly liberated from the gangue; the flotation cells employed in the circuits were identical; the operating conditions across the circuit were the same (constant froth depth, bubble sizes and air flowrate). Because the flotation models used in the simulator are mostly species specific, it is possible for more species with imperfect liberation and different sizes to be included in the feed. The difference in liberation between species can be seen by variances in density, metal content and flotation rate constant. Although the air flowrate was not varied from cell to cell, the differences in the feed composition and flowrate were reflected in the difference in the solid fraction in the concentrate, The optimisation was performed on circuits with 3–8 flotation cells. In contrast to the 3-cell circuit, the optimal configuration for a 4-cell circuit ( The final grade and recovery values for the optimal circuits are shown in It should be noted that there were several assumptions in these simulations, such as the air flowrate and the rate constant remaining constant in all cells; in reality, these would vary around the circuit. The plant on which this data was based, however, contains 8 cells in the rougher–scavenger bank and a cleaner circuit and is therefore not dissimilar to the layout determined using the GA. Furthermore, the plant grade and recovery were 33% and 89% respectively during the period that the feed data was taken, therefore yielding similar results to those predicted by the simulator. The lower grade and higher recovery from the simulations compared to the plant measurements is likely to be due to the small layout difference between the two circuits. Previously published applications of GA to flotation circuit layout design and optimisation have considered up to 4 cells/banks only ( To compare the flotation performance of the circuits shown in From the figure, the optimal circuit generated in the present study produces the concentrate with the highest grade and recovery among the three designs, such that the circuit layouts from literature were suboptimal in performance when used for the flotation process in this paper. This is the result of the fact that circuits were optimised for treating different quality and quantity of feed in each study. In addition, various constraints and objectives were set up to maintain or maximise key variables to favourable values. In the work by A flotation simulator considering both pulp and froth phase behaviour has been combined with genetic algorithms to allow optimal circuit layout to be studied. In the pulp phase, first order rate constants were considered, while in the froth phase, models that predict froth recovery and entrainment were included, all of which are dependent on air recovery. Preliminary investigation of the GA parameters showed that the minimum cycle number and number of generations was 0.1% of the total possible circuit configurations. This robust optimisation system was used to generate designs for circuits with 3–8 cells. The optimal circuit layout progressed from a straight-bank structure for 3-cell circuit to a cleaner with recycled tailings for circuits with 4–8 cells. Froth recovery and entrainment factor were found to decrease down a flotation bank. The optimal 4-cell circuit layout was compared to two layouts suggested in prior work, where three circuits were modelled using the flotation simulator and the data from the copper concentrator. The layout proposed in this paper was found to have both the highest grade and recovery. In addition to allowing the optimal layout for a given set of conditions to be determined, the simulator presented in this paper allows for the effect of different operating and design variables on flotation performance and optimal layout to be investigated. This paper highlights the importance of including detailed froth phase modelling into circuit simulators. 