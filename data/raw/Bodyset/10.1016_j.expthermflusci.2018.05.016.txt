Bubbly flow plays an important role in industrial processes. Obtaining detailed information on the flow is, however, a challenging task. One of the key process parameters is the diameter of the bubbles, which is often determined as equivalent diameter. In this study, an automatic image analysis routine for time-resolved analysis and estimation of equivalent diameter of rising single bubbles in high-speed image sequences with high accuracy is developed using the open source software KNIME. Common estimation techniques for the equivalent diameter, e.g. based on the major/minor axes, are compared to a novel rotation algorithm, where the detected bubble segments are rotated by 180° in 1° steps, for the determination of the Feret diameter. Additionally, the elongation is measured as a morphological parameter and the centroid positions are determined. In combination with the frame rate of the image sequences the ascent rates can be calculated in form of a Bubble Tracking Velocimetry (BTV). The routine was validated using static computer generated geometrical shapes as well as precision grade solid glass spheres with diameters of 0.7–2.5 mm under dynamic (settling) conditions. High-speed image sequences were recorded and analysed with a critical statistical evaluation. It could be shown that the deviation between measured diameter and real diameter of the glass spheres is less than 1.5% when using the rotating Feret diameter algorithm. Settling velocities were determined with a maximum error of 3%. A first test of the analysing routine in a bubbly flow showed that it is unaffected by dirt, small tracer particles or internals in the viewing area, which makes a combined Particle Image Velocimetry (PIV) and Shadowgraphy analysis feasible.particle Archimedes number, dimensionless centroids coordinates in drag coefficient, dimensionless complementary metal-oxide-semiconductor equivalent diameter based on the major and minor axes (m) equivalent Feret diameter (m) major axis (m) maximum diameter (m) minimum diameter (m) minor axis (m) particle diameter (m) depth of field shape descriptor eccentricity, dimensionless shape descriptor elongation, dimensionless frames per second (s acceleration due to gravity (m s Konstanz information miner lower light-emitting diode critical parameter for Dixon’s Q test colour model based on red, green and blue particle Reynolds number, dimensionless time (s) upper ascent rate (m s settling velocity (m s position of the centroid in position of the centroid in fluid density (kg m particle density (kg m kinematic viscosity (m Multiphase flow has a broad range of applications in the chemical industry. Two phase gas-liquid flows are commonly used, e.g. in bubble columns or in flotation processes. In both applications, the diameter of the bubbles is of particular interest. In bubble columns, it is a limiting factor for mass transfer Due to technological developments in the recent years, online characterization systems for multiphase flows have gained a greater interest. There are several bubble sizing approaches described in literature, e.g. electroresistivity Many researchers have already investigated the image analysis for multiphase flows and thus, many different algorithms are available ranging from manual to semi-automatic analysis procedures The developed image analysis routine was implemented in an open source KNIME analytics platform. KNIME is a graphical program for analysing data The implemented analysing routine is shown in Import of the image sequence, Projection of the maximum intensity, Application of a quantile filter, Background subtraction, Determination of bubbles in the images, Removal of images with bubbles touching the image border, Extraction of bubbles as bitmask from the images, Determination of Feret diameter as bubble diameter by rotation of the bitmasks, Identification of further bubble characteristics, such as elongation and centroid position, Export to Excel. The import of the images into the workflow is carried out with the Image Reader node (1.). The image format can vary from .jpg, .png, .tiff and so on. A list of all supported formats can be found at With the Projector node, the dimensions of the images are projected into one single dimension, in this case the channel (2.). The projection operation is the maximum intensity. This mathematical operation chooses the pixels with the highest intensity from every channel and projects it to the new channel. Applying this procedure to a RGB image containing three colour channels would produce an image containing only one channel with all three colours. Afterwards, a quantile filter is applied by using the Quantile Filter node (3.). This node applies a generalized median filter using the algorithm from Perreault and Hebert Next, a background subtraction is done (4.). This step is necessary to remove unwanted disturbances from the images. The background subtraction is based on two steps: Creation of a maximum intensity projection (MIP). This creates an output image each of whose pixels contains the maximum value over all images, which are in the workflow, at the particular pixel location; Subtraction of the MIP from every single other image. Then, a subroutine for finding bubbles in the images is carried out (5.). This serves to distinguish between the wanted bubbles and unwanted disturbances like reflections, scratches or dirt in the viewing area. The subroutine can be divided into three steps: Firstly, an inversion of the images takes place; Secondly, a global threshold is applied with the Global Thresholder node. In this case the Otsu method as thresholding method is applied After the application of the global threshold, the connected components in the images can be identified using the Connected Component Analysis node. With this node, the bubbles are finally identified. The connected component analysis (also often referred to as connected component labelling) is an algorithm application of graph theory. Subsets of connected components are uniquely labelled based on a given heuristic. In the Connected Component Analysis node, a two-pass algorithm is implemented. This algorithm iterates through 2-dimensional, binary data. Thereby, the algorithm makes two passes over the image: in the first pass, temporary labels are assigned and equivalences are recorded; in the second pass, each temporary label is replaced by the smallest label of its equivalence class. Then, the connectivity checks are carried out by checking neighbour pixels’ labels. Neighbour elements, whose labels are not assigned yet, are ignored. Afterwards, a filter is applied to remove segments touching the border of the image (6.). This ensures that only bubbles which are fully visible in the image area will be analysed. In the next step, the detected bubbles are extracted as bitmasks from the images (7.). These bitmasks are further investigated as follows. In literature, most frequently the major axis The measurement of these axes depends on an ellipse fit to the segment. The ellipse will have the same area, orientation and centroid as the object In the present paper, the Feret diameter was chosen as characteristic length, which is also a typical procedure in the investigation of bubbly flows In the common determination of the Feret diameter, the longest and the shortest axes always have to be orthogonal. This may lead to the problem that the determined shortest axis is not the actual shortest axis. Therefore, the extracted bitmasks of the detected objects were rotated in this work to achieve a higher accuracy on determination of longest and shortest axes. In some cases, this may lead to a non-orthogonality between these axes. For this purpose a loop procedure was implemented (8.): The procedure starts with an outer loop using the Chunk Loop node. This node loads each image sequentially into the inner loop; The inner loop is started using a Counting Loop node. The procedure in the inner loop is as follows: The Counting Loop node is set with a number of loops of 180. Afterwards, a Rotation 2D node is used to rotate the bitmask. The angle of rotation is controlled by the Counting Loop node. Thus, the bitmask is rotated by 180° in 180 steps. After each rotation step, the maximum intensity of the image is projected with a Projector node. The projection direction is the y axis so that only the x axis is visible. This reduces the bubbles to a straight line, which is equivalent to the diameter in this direction. With the Segment Geometry node, the number of pixels of this generated line is measured. After this, the inner loop ends. In the next step, all 180 determined values for the bubble diameter are sorted ascending. Therefore, the minimum Feret diameter can be extracted as first and the maximum Feret diameter as last value of this sorted table; After this procedure, the outer loop ends. Then the next image is loaded into the loop and the measurement procedure starts again. The Chunk loop ends after all images have been analysed. Thereafter, several other geometric characteristics are determined (9.). With the Feature Calculator node, the centroid position of the bitmask is determined. The centroid is the average of all The distance The domain for the elongation is between 0 and 1, with 0 for a perfect circle and 1 for an infinite stretched ellipse (=line). This is an indicator for the non-sphericity of the bubbles and hence a characteristic for the bubble morphology. At the end, all data is exported to an Excel spreadsheet for further data processing with help of the Excel Writer node (10.). First validation experiments were performed similarly as in For a validation under real test conditions, precision grade solid glass spheres (supplier: Sigmund Lindner GmbH) with diameters of 0.7 mm, 1.0 mm, 2.0 mm and 2.5 mm and a roundness of ≥0.99 where used (tolerances for all spheres ±0.02 mm in diameter and ≤0.02 mm in roundness). This is in accordance with BS ISO 13322-2, where calibration tests with at least three particle sizes are recommended Dixon’s Q test was performed assuming a confidence level of 95% to identify possible outliers in the data sets The tested pair (lower or upper) is detected as probable outlier, when Again, the tested value (lower or upper) is detected as probable outlier, when The experimental apparatus for bubble analysis experiments is depicted in For first tests of the analysing routine under experimental conditions, air bubbles were produced in water. A PEEK capillary was connected to a syringe pump. Ambient air was drawn up into a gas tight syringe. A flow rate of 5.0 µL/min was set at the syringe pump. This led to a bubble production of approximately one bubble per minute. Using the Shadowgraphy system, the rising bubbles were captured in high-speed image sequences. The experiments were conducted under various conditions, e.g. add-on of 50 µm polyamide seeding particles, which are typically used in PIV measurements.  The relative errors of the calculated elongation are compared in From From the previous investigation with geometric shapes it could be concluded that the magnification of the observed objects plays an important role for high precision. With the 12× zoom lens it was possible to produce a sufficient magnification of the glass spheres. Consequently, two boundary conditions had to be taken into consideration: on the one hand, the precision of the automatic measurement decreases with decreasing magnification (as stated before). On the other hand, a large magnification reduces the size of the viewing area and thus the maximum number of images per sequence. Hence, a compromise between precision and number of images per sequence had to be made. The results were statistically investigated. Details on the procedure can be found in Section It has been found that both equivalent diameters Regarding the calibration process which was described in Section An exemplary tracking sequence of a precision grade solid glass sphere with a diameter of 1.0 mm is shown in With The particle Reynolds number for the spheres with a diameter of 1.0 and 0.7 mm was calculated with Martin’s (1980) equation An overview of all terminal settling velocities is given in The elongation of the precision spheres was calculated using Eqs. These maximum admissible values were included into Different experimental conditions were set to test the robustness of the developed analysing routine. For future experiments it is envisioned to combine Shadowgraphy and PIV measurements. Thus, the analysing routine should be able to detect the bubbles precisely in presence of seeding particles, e.g. 50 µm polyamide particles. Additionally, the program was tested under difficult conditions, e.g. internal deflectors, dirt in the apparatus as well as attached bubbles at the PMMA surface. As shown in The mean values as well as the standard deviations of the detected parameters of the presented bubble are given in Bubbles with uneven outlines were also observed during experiments. As can be seen in The validation experiments with precision glass spheres showed that a very robust and precise algorithm for analysis of single bubbles was developed and implemented in the open-source software KNIME. From  The slope yields to nearly one, which indicates that the target diameter matches the predicted diameter. A summary of the results for the equivalent diameters is given in  In contrast to this, the elongation based A new robust measurement routine for the time-resolved analysis of high-speed image sequences of rising bubbles was developed in the open source software KNIME. A novel rotating algorithm for the determination of the Feret diameter with high accuracy was applied and compared to standard procedures using the major/minor axes. The developed routine was validated using static self-drawn geometric shapes in Adobe Photoshop as well as using precision glass spheres with different diameters of 0.7, 1.0, 2.0 and 2.5 mm under dynamic conditions, in both cases including critical statistical investigation. The validation showed that the routine is able to measure geometric features of given objects such as diameter, elongation and centroid-position with a high precision and robustness. An equivalent diameter based on the Feret diameter was calculated by rotating the detected object segments by 180° in 1° steps. For comparison an equivalent diameter based on major and minor axes of a fitted ellipse was additionally investigated. Both calculated equivalent diameters showed good results. However, the equivalent diameter based on the rotated Feret diameter showed the highest agreement with the expected diameters with a maximum relative error of less than 1.5% and is consequently recommended in this routine. The elongation showed a significantly higher precision when using the major/minor axes instead of the Feret diameter. Thus, the elongation calculation should be based on the major/minor axes for a high precision. The tracking feature of the analysing routine showed also a high precision with a maximum relative error between the calculated theoretical and experimental settling velocities of 3%. First analysis of high-speed image sequences of rising single bubbles showed a very good detection of the bubbles in the images. Furthermore, it could be proven that disturbances like dirt, internals in the apparatus or seeding particles for Particle Image Velocimetry have no significant effect on the detection algorithm. A test of the routine in clusters of bubbles, which are normally present in bubble columns, is yet missing. Such rigorous investigation of bubble clusters is part of future work. Furthermore, it has to be stated that the presented method was developed for 2D images. In case of 3D images, the system becomes more complicated. On the one hand, some elongation errors in the out of plane direction may lead to problems regarding the accuracy of image capturing Overall, it can be concluded that a precise, rigorous time-resolved and simultaneous investigation of characteristics like diameter, ascent rate and morphological parameters of rising single bubbles is possible so that a more detailed insight into multiphase flows is feasible. The developed routine is a very useful and reliable tool for future work, where the investigation of rising bubbles and their geometric features dependent on some situational variables in combination with PIV plays an important role. The authors would like to thank the ImageJ and KNIME community for their support in this project. Additional thanks to Sigmund Lindner GmbH for providing the precision glass spheres. We appreciate the financial support by