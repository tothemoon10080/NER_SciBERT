Determining the final destination of mined materials is counted as one of the most important challenges in mining. Cut-off grade is a criterion specifying the destination of mined materials relying on the commodity price, treatment method recovery, investment and operating costs.
                  The development of mineral processing science makes these methods apply simultaneously in mines, thus, it is needed to specify minerals destination. Regarding environmental and technical considerations and operation costs, the optimum cut–off grades of processing methods are estimated. Minerals destination might be changed due to the differences of investment costs of processing methods. Optimization has been done through the Karush–Kuhn–Tucker (KKT) theorem in this study. Thus, we tried to innovate a novel algorithm in copper mine. Results indicated that applying KKT theorem can increase the mining NPV by 5% rather than traditional approach of determining cut-off grades. It is also demonstrated that processing recovery and operating and investing costs affect cut-off grades.Different processing methods are developing to achieve higher and cheaper productions. These methods are totally divided into pyrometallurgical and hydrometallurgical ones. Hydrometallurgical methods are exceedingly applied in base metal production for the sake of low investment and operating costs ( The model developed by Lane describes the theory of cut-off grades optimization as well as its effects on the mine planning in an open pit mine ( The effect of environmental and economical parameters on cut-off grades has been analyzed in various modeling ( Each one of the algorithm determining optimum cut-off grades hold some failures according to recovery and different environmental costs of treatment methods. In addition, the algorithm specifying deposits destination should consider the investment and operating costs due to significant differences of related costs of hydrometallurgical and pyrometallurgical methods. We defined a comprehensive algorithm of cut-off grade in order to solve these problems. These algorithms scrutinize various processing methods and their constraints as well as effective parameters. The KKT theorem is applicable. Karush–Kuhn–Tucker (KKT) Theorem is the most central theorem in constrained optimization and In mathematical optimization, it is first order necessary conditions for a solution in nonlinear programming to be optimal, provided that some regularity conditions are satisfied. The system of equations corresponding to the KKT conditions is usually not solved directly, except in the few special cases where a closed-form solution can be derived analytically. In general, many optimization algorithms can be interpreted as methods for numerically solving the KKT system of equations. The KKT conditions were originally named after Harold W. Kuhn, and Albert W. Tucker, who first published the conditions in 1951 ( The schematic of the KKT theorem application is shown in Optimization is done to maximize NPV and it uses KKT theorem and an iteration algorithm. The optimum cut-off grades of processing methods are the first assumption of KKT theorem and they are calculated by programming. Holistically, this algorithm makes the highest rate of NPV. In addition, the effect of the commodity price, operating, investment costs and recovery of processing methods on NPV is assessed. Choosing a proper method of mineral processing depends on both mineralogy and average grades. The operation battery limit of copper processing methods is schematically illustrated according to the grade in Due to various specifications shown in As observed in A mathematical modeling is conducted to specify optimum cut-off grades of processing methods. Since objective function at calculating the NPV of the process, it is necessary to figure out the annual cash flows (CF) of mine and plants related to it (Relation According to the fact that the annual cash flow is calculated through computing ore production costs (   As the calculation of cut-off grades of several processing methods are remarked in one specific mine in this modeling, it is essential to specify the optimum cut-off grades. Moreover, Operating, investment and environmental costs are modeled as below regarding the discount rate and plants production life (Relations  The KKT conditions are usually not solved directly in the analysis of practical large nonlinear programming problems by software packages. Iterative successive approximation methods are most often applied. The results however they are obtained, must satisfy these conditions. Therefore, in this paper is also developed an interactive algorithm to solve the KKT problem. The KKT cash flows problem is defined as below (Relations subject to:  Define the KKT problem as (Relation In relation In this case, the maximum amount of cash flows and the cut-off grades of processing methods are calculated (Relation Thus: KKT Indicates the Karush–Kuhn–Tucker optimization factor. The number of KKT factor is defined according to the number of model constraints. Various constraints in KKT theorem are considered for the final production which influences the production life. These constraints can be in hydrometallurgical and pyrometallurgical methods including mine production, mine production limit, concentration plant, smelter, refinery, sulfuric acid plant, heap loading, limit of SX production plant, limit of EW production plant, Vat capacity limit, Autoclave and, etc. All these inequality constraints can independently affect the production life. Using the KKT theorem and by solving the equation set obtained from the relations In this condition and by solving the equation set by numerical method applied by MATLAB programming, all cut-off grades and KKT factors calculated. These grades introduce the amount that can maximize the cash flows function. All cash flows function can make a surface with maximum and minimum points considering the variation of cut-off grades. In case the capacity of two or more capacity or equipment simultaneously limits the production capacity, the other cut-off grades calculate. Finally, the best amount of optimum cut-off grades between all calculated ones is geometrically found in the surface maximum, passing through the minimum of all cash flows surfaces which is numerically obtained by MATLAB programming. Thus, the cut-off grades with mentioned constraints are calculated as Maximizing the annual cash flows cannot be identified as an appropriate criterion to calculate cut-off grades because of ignoring time value of money. So, it is better to specify cut-off grades with the objective of NPV maximization. In this algorithm, the calculated cut-off grades in The model is evaluated in Sarcheshmeh copper mine. It is assessed that the total deposit of this mine is 65 million tons consisting of hypogene and supergene sulfide minerals. The mine deposit is processed through bio-heap leaching, Vat leaching and concentration. The ore grade-tonnage distribution is a lognormal distribution and 48 million tons of the deposit holds a grade less than 0.5%. The environmental and economical parameters practiced in this model are as the following ( The amount of optimum cut-off grades of the three processing methods, NPV maximization and annual cash flows are calculated by the presented algorithm as shown in As shown in The comparison of 5 graphs reveals that the amount of the maximum NPV is obtained for the cut-off grade in which there is maximum cash flow, as expected. This is reasonably true because the NPV definition is the sum of the annually discounted cash flows. According to the fact that the maximum amount of the cash flows are obtained at the same cut-off grade in different years, their sum will be directed into the maximum NPV. To clarify the application of the novel algorithm, the cash flows and NPV of the Sarcheshmeh copper mine with different cut-off grades of processing methods are presented in The calculated cash flow has been obtained in a certain condition in which the mine, for example, held three processing methods. According to three different cut-off grades for these processing methods, one cash flow has been adopted to be used for all the three processing methods. This amount of cash flow has been the sum of the plant production for the first year. Hence, it has not been discounted and calculated based on relation The results of the sensitivity analyses imply that the increase of the cut-off grades will reduce the triple cut-off grades of NPV. It means that if the cut-off grades are considered less, The NPV will be decreased more. The comparison between traditional algorithms of determining cut-off grades based on Lane algorithm (One processing method), specifying two processing methods (bio heap leaching and concentration) cut-off grades and Novel algorithm based on KKT theorem presented in this study are obtained in As can be seen in These percentages are calculated using the computation of the difference in the amounts of the annual cash flows divided on the amount of the cash flow of a base method which is Lane algorithm in this manuscript. Lane first introduced the method of calculating the cash flow in 1964 (   Moreover, the following figure (   As shown in The science development of ore processing methods paves the way to practice various processing methods in mines. So, it is essential to determine ore destination in this situation. The results of the study indicate that the novel algorithm based on KKT theorem increase the cash flows of mining operation on Sarcheshmeh copper mine by 5% rather than traditional approach based on Lane algorithm. It is also observed that the cash flows of novel algorithm increase the cash flows by 2% rather than using two processing methods algorithm. Holistically, the cut-off grades of processing methods are calculated with the KKT theorem to maximize the current pure value. The application of this theorem is investigated in Sarcheshmeh copper mine as the case study. The results demonstrate the influence of investment costs on the optimum cut-off grades of processing methods. It is also observed that the increase the investment costs of the processing plants from 34 million dollars to 118 million dollars, can change the cut-off grades of bio heap leaching, vat leaching and concentration plants from 0.08%, 0.85% and 0.09–0.36%, 0.4% and 0.46%, respectively. As the commodity price of the final product gets increased, the cut-off grades of the processing methods get diminished and the NPV gets enhances. The results of the optimization algorithm showed that by increasing the copper price by 90%, the cut-off grades of processing methods decrease from 0.33%, 0.40% and 0.46–0.05%, 0.06% and 0.07%. The NPV of the process is also increased, remarkably. Furthermore, it is supposed that recovering processing methods is regarded as one of the significant parameters changing NPV and cut-off grades of processing methods. It is investigated that as the copper recovery of each processing method increase to 95%, the processing cut-off grades are decreased beneath 0.15%. Conclusively, it is observed that as the mine life increases the cut-off grades get decreased for the sake of the reduction costs of lost opportunities. The authors are grateful to Canymes Company for providing related information. Also, we gratefully thank Mrs. Azarme, for her cooperation in editing this paper. Supplementary data associated with this article can be found in the online version at 