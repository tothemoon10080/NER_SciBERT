In the condition of Newtonian heat transfer, A356 aluminum alloy is solidified with randomly distributed equiaxed dendrites. Ability of interdendritic liquid flow is described by permeability parameter using Darcy's law and this parameter is used to predict the micro-shrinkages. In this study the interdendritic liquid flow during nucleation and grain growth are simulated in a 1mm×1mm domain. Temperature gradient is zero in the initial condition of the unconstrained solidification. The numerical simulation procedure includes two stages; first, numerical evolution of the shape, number, size, and distribution of dendrites during solidification using a novel Cellular Automation Finite Volume (CA-FV) method, and second, numerical determination of the micro-permeability by a Computational Fluid Dynamics (CFD) technique. Subsequently, the effect of Reynolds number, cooling rate and solidification rate on a critical permeability range was investigated in order to predict the micro/macro shrinkage distribution. Results showed that it is possible to propose a mathematical model to relate the Reynolds number and liquid flow rate, in the creeping flow range, on the micro-permeability during unconstrained solidification.Nucleation and grain growth occur successively during solidification of alloys and consequently the number, size, distribution and morphology of the grains are determined during this process. In the case of rapid solidification the effect is more pronounced. During solidification, micro-defects such as micro-segregation, micro-porosities and micro-shrinkage form a porous medium (mushy zone) located in interdendritic spaces. The ability of the liquid to flow into the mushy zone is known as permeability of interdendritic liquid. Therefore, micro-defects formation is affected by the permeability factor. In a number of studies, micro/macro solidification models have been simulated based on the permeability factor using Darcy's law To obtain an expression for the permeability as a function of the porosity of the porous medium, one generally considers flow through an idealized medium geometry, since it is impractical to solve the flow equations for the complex flow between the particles The pressure drop required to drive the flow is a function of Reynolds number. Several authors computed the fluid flow through periodic arrays of cylinders as the function of Reynolds numbers for three ranges of low, moderate, and high Reynolds number These models have an important application in the mathematical modeling of flow through arrays of dendrites during solidification of mushy alloys. There are many investigations for experimental measuring of permeability during solidification process Piwonka and Flemings In spite of these valuable contributions in this field, determination of dendritic structural permeability and micro-shrinkage due to the complex microstructure of the dendrites still remains a challenge in both fields of mathematical and experimental methods. It appears that critical ranges for permeability exist in which the micro-shrinkages form. In this paper, a numerical model has been introduced for determination of liquid flow micro-permeability through dendritic solid network during grain growth for either a small section of a droplet or a cell from solidification front, in the Newtonian heat transfer condition. The model includes five stages; first, numerical simulation of nucleation and growth of the equiaxed grains using a CA-FV method, second, numerical simulation of micro fluid flow for interdendritic liquid alloys using CFD code, third, calculation of micro-permeability based on modified Darcy's law using the pressure and velocity results of the CFD code, forth, neural network training for permeability prediction in various condition and fifth, micro porosity prediction in 2D domain. These results can be used as a module in a commercial casting code in order to predict the micro-defects such as micro porosities, shrinkages or micro-segregations. In fact, in solidification numerical simulation codes, the present model could be used for all meshes adjacent to the solid/liquid interface as a fine porous boundary layer based on a critical range series of the micro-permeability. In the present work, two separate computation models of the nucleation/grain growth and the interdendritic liquid flow have been developed and coupled for predicting the micro-permeability and characterization of effective parameters for a symmetric domain as a 2D section. This is achieved by combining sub-models for each of these processes. One is a computation CA-FV. The other is a micro fluid flow by using the CFD model for calculation of the interdendritic micro-permeability. The governing equations are described in detail in the next sections. Significant assumptions are: For a fine domain during solidification a boundary layer is introduced at liquid/solid interface. Temperature gradient in the boundary layer is equal to zero. Heat transfer in the liquid interface is Newtonian. Prior to the nucleation the under-cooling throughout the boundary layer is constant, and after nucleation it is negative due to the liberation of latent heat of solidification at solid/liquid interface. Nucleation in the boundary layers is fully equiaxed. The heat transfer and solidification in transverse direction of the boundary layer is assumed two dimensional, since the boundary layer around each grain is very thin. Nucleation and grain growth code that has been developed in this paper is based on the CA model After the solidification, the microstructure of the solidified alloy will consist of fully equiaxed grains and no columnar grains. Therefore, in this investigation for the A356 mushy alloy, initial and boundary conditions for simulation of heat transfer and liquid flow for a 1 Heat transfer equations The heat transfer equation for this mushy zone may be written as: The fraction of solid in the mushy zone is estimated by Eq. Physical properties of the liquid and solid are assumed to be constant above Nucleation equations When the temperature falls below the liquidus temperature, nucleation begins. In this condition, the fraction of nuclei ( Grain growth equations As mentioned before, once stable nuclei are created, a negative temperature gradient forms in liquid adjacent to the grains and equiaxed grains grow as shown in  For a solidifying cell, as the solid fraction within the cell becomes greater than zero, the local temperature of the particles is obtained using the relevant phase diagram and the under-cooling is calculated accordingly. In each solidifying cell, the change in solid fraction is primarily determined by KGT model, which calculates the maximum growth rate based on a given under-cooling at near absolute stability limit  Fluid flow equations The Navier–Stokes and continuity equations in 2D space are used to simulate flow of the interdendritic liquid through the network of equiaxed grains. By introducing the following dimensionless variables the Navier–Stokes and continuity equations are presented in a non-dimensional form The continuity equation is solved implicitly by using the Poisson's equation (Eq. After solving the Navier–Stokes equations, the calculated pressure and velocity fields were used to obtain the micro-permeability of the 1 Permeability equations Darcy's law is a simple and empirical proportional relationship between the instantaneous discharge rate through a porous medium ( Finally, the governing equations are solved by FVM. The numerical solution method can be considered in four steps: (1) Meshing of the system, (2) Converting the differential equations to finite difference approximation, (3) Solution of the finite volume approximations of momentum in order to calculate the velocity profile and pressure gradient, and (4) Calculation of micro-permeability of the mushy zone by adding Darcy's law in each growth sequences. The computational domain is divided into a number of cells with Δ Finite volume approximation of momentum equations was constructed according to Griebel et al. To solve the governing equations of fluid flow, the projection method was used. The projection method uses an auxiliary velocity ( The continuity equation in time derivative form is: The divergence of Eq. Continuity equation, Eq. The superscripts ( After obtaining the pressure and velocity fields, which is called here as the temporary micro-permeability subroutine, and using Darcy's law, the coefficient of temporary micro-permeability is calculated in each solid fraction. All simulations were run using the data in A simple part was considered for simulation and casting ( For developed code first the neural network must be trained. So, approximately 250 different conditions were simulated in micro scale. Random nucleation was performed and permeability of domain was calculated by CFD simulation and Darcy law. Calculated data was used for training the neutral network. The trained neutral network module was added in solidification code and predicts probable defects. Numerical model in parasolid format was imported. Model was meshed by tetrahedral mesh. Preprocess setup with precast. Aluminum A356 was poured in metal mold and cooled with air convection. Aluminum A356 ingot was melted in electrical induction furnace. Mold was milled from cast iron. Melted alloy pored at 700 The main parameters that affect the pressure field are the grain distribution, cooling rate and Reynolds number, which are presented below. 1. 2. 3.           Micro-permeability is a function of the velocity field and pressure gradient of the liquid phase. Moreover, cooling rate, nucleation and growth rate, distribution and morphology of grains, and Reynolds number affects the micro-permeability. Many numerical fluid flow and heat transfer software and casting commercial codes generate the cooling rate (∂ The effect of two random grain distributions was simulated on the pressure and velocity field ( The cooling rate has a significant effect on the pressure field and subsequently on the micro-permeability. It also affects the nucleation and solid fraction rate. This effect was investigated at low and high solid fractions. Results in Finally, the effect of Reynolds number on the pressure fields (  Finally, the effect of temporary solid fraction ( In low solid fractions ( As observed in  By casting the wedge part, it is seen that in part centerline micro shrinkage was formed. The porosity density increased from down to up. While in simulation such defects are less predictable. Most commercial software uses for prediction macro shrinkage. As shown in  In this investigation, using results obtained from coupling the CFD and CA-FV codes, a relationship was developed between solid fraction and cooling rate versus micro-permeability, in which the constants of this equation is a function of Reynolds number. Simulation results showed that there are fluctuations in micro-permeability in the range of 0.33–0.66, and 0.60–0.66 solid fractions with decreasing cooling rate, in which the shift in the critical range is due to the change in Reynolds number. Beyond a critical cooling rate, ultra fine and smooth equiaxed grains form with low perturbation on their surfaces, which in turn can lead to formation of ultra fine to coarse shrinkage porosities. The constitutive equation of the present code can be utilized in a commercial casting or solidification software for predicting micro and macro shrinkage porosities with improved accuracy. The authors declare no conflicts of interest.